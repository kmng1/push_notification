<!DOCTYPE html>
<html lang="en" ng-app="WebPushApp">
	<head>
		<meta charset="UTF-8">
		<title>Push example</title>

		<link rel="manifest" href="/manifest.json">

		<script src="/bower_components/jquery/dist/jquery.js"></script>
		<script src="/bower_components/angular/angular.js"></script>

		<script>
			if ("serviceWorker" in navigator) {
				console.info("Installing service worker");
				navigator.serviceWorker.register("/service-worker.js")
					.then(function() { console.info("Service worker installed"); })
					.catch(function(err) { console.error("Failed to install service worker: %s", err); });
			}
		</script>

		<script src="/register.js"></script>

	</head>
	<body ng-controller="WebPushCtrl as webPushCtrl">

		<h2>Endpoint: <code>{{ webPushCtrl.endpoint }}</code></h2>
		<h2>Key: <code>{{ webPushCtrl.p256dh }}</code></h2>
		<h2>Auth: <code>{{ webPushCtrl.auth }}</code></h2>

		<br> <br>

		<button id="regButton" ng-click="webPushCtrl.register()">Register</button>

	</body>
</html>
